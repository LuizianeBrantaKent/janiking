/* ================================
   JaniKing Staff — Admin Visual Parity (FINAL)
   ================================ */

/* ----- Core tokens (matched to admin.css) ----- */
:root {
  --header-h: 80px;
  --nav-w: 220px;

  --brand-blue: #004990;
  --bg: #f8f9fa;
  --card-bg: #ffffff;
  --text: #333333;
  --muted: #6c757d;
  --border: #e5e7eb;
  --line: #e5e7eb; /* used by dividers */
  --shadow: 0 4px 12px rgba(0,0,0,.08);
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: var(--text);
  background: var(--bg);
  overflow-y: auto; /* keep page scrollable */
}

/* =======================
   APP SHELL (follow admin layout)
   ======================= */
.app { display: block; }

/* Header bar */
.header,
.app .header,
.app .app-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: var(--header-h);
  padding: 0 18px;
  background: #fff;
  border-bottom: 1px solid var(--border);
  z-index: 1000;
}

/* Sidebar (fixed) */
.sidebar,
.admin-navbar { /* support legacy include */
  position: fixed;
  top: var(--header-h);
  left: 0;
  width: var(--nav-w);
  height: calc(100vh - var(--header-h));
  background: #fff;
  border-right: 1px solid #ddd;
  box-shadow: 2px 0 10px rgba(0,0,0,0.1);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  overflow-y: auto;
  z-index: 900;
}

/* Main content offset */
.content,
.main-content {
  margin-left: var(--nav-w);
  padding: 30px;
  overflow-y: auto;
  background: #e9ecef; /* admin parity */
  min-height: calc(100vh - var(--header-h));
}

/* Brand in header */
.brand-header{ display:flex; align-items:center; gap:8px; }
.logo-img-large{
  display:block; max-height:calc(var(--header-h) - 20px);
  height:auto; width:auto; object-fit:contain;
}

/* Header avatar */
.userbox { display:flex; align-items:center; gap:10px; }
.avatar.avatar-initial {
  width: 40px; height: 40px; border-radius: 50%;
  background: var(--brand-blue); color:#fff;
  display:flex; align-items:center; justify-content:center;
  font-weight:700; font-size:14px; text-transform:uppercase;
}

/* =======================
   SIDEBAR NAV (matches admin)
   ======================= */
.nav { list-style:none; padding:0 15px; margin:0; }
.nav a{
  display:flex; align-items:center; gap:12px;
  padding:12px 15px; text-decoration:none;
  color:#000; border-radius:8px; transition:all .3s ease;
  font-weight:500; font-size:15px;
}
.nav a:hover, .nav a.active{ background:#d1d6dc; }
.nav a i, .nav a svg{
  color:var(--brand-blue); width:25px; height:18px; font-size:18px; flex:0 0 25px;
}
.logout{ padding:15px 20px 0; border-top:1px solid #d1d6dc; }

/* =======================
   PAGE TITLES & CONTROLS
   ======================= */
.page-title{
  color:var(--brand-blue); font-size:28px; margin:0 0 20px 0;
  padding-bottom:10px; border-bottom:1px solid #ddd;
}
.section-title{ color:var(--brand-blue); font-size:20px; margin:0 0 15px 0; margin-top: 10px; margin-right: 10px; }
.top-controls{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:20px; flex-wrap:wrap; }
.search-box{
  display:flex; align-items:center; gap:8px; background:#fff; border-radius:8px;
  padding:8px 12px; box-shadow:var(--shadow); margin-bottom:20px;
}
.search-box input{ border:none; outline:none; font-size:14px; width:250px; }

/* Normalize pages that use bare H1 + P */
.content > h1:first-of-type,
.main-content > h1:first-of-type {
  color: var(--brand-blue);
  font-size: 28px;
  font-weight: 700;
  margin: 0 0 16px 0;
  line-height: 1.2;
  border-bottom: 1px solid #ddd;
  padding-bottom: 10px;
}
.content > h1:first-of-type + p,
.main-content > h1:first-of-type + p {
  color: var(--muted);
  margin: 6px 0 18px 0;
  font-size: 14px;
}

/* =======================
   CARDS & BUTTONS
   ======================= */
.card, .table-card, .cardx{
  background: var(--card-bg);
  border-radius: 10px;
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
  overflow: hidden;
}
.cardx .card-header{
  padding:14px 16px; border-bottom:1px solid var(--border);
  font-weight:700; color:var(--text);
}
.cardx .card-body{ padding:16px; background:#fff; }

.btn, .btnx{
  display:inline-flex; align-items:center; gap:8px;
  padding:10px 16px; border:1px solid transparent; border-radius:8px;
  font-size:14px; font-weight:600; cursor:pointer; transition:all .2s ease;
  text-decoration:none; background:#fff; color:var(--text);
}
.btn-primary, .btnx-primary{ background:var(--brand-blue); color:#fff; border-color:var(--brand-blue); }
.btn-primary:hover, .btnx-primary:hover{ filter:brightness(.92); }
.btn-secondary{ background:#6c757d; color:#fff; }
.btn-secondary:hover{ filter:brightness(.95); }

.action-buttons{ display:flex; flex-wrap:wrap; gap:6px; }
.action-btn{
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 10px; font-size:12px; border-radius:6px;
  border:1px solid transparent; text-decoration:none; cursor:pointer;
}
.view-btn{ background:#e3f2fd; color:#1565c0; border-color:#bbdefb; }
.edit-btn{ background:#e8f5e9; color:#2e7d32; border-color:#c8e6c9; }
.delete-btn{ background:#ffebee; color:#c62828; border-color:#ffcdd2; }
.deactivate-btn{ background:#fff3e0; color:#ef6c00; border-color:#ffe0b2; }
.activate-btn{ background:#e8f5e9; color:#2e7d32; border-color:#c8e6c9; }

/* Status badges (Bookings) */
.status-badge{
  display:inline-block; padding:4px 10px; border-radius:20px;
  font-size:12px; font-weight:600; text-transform:capitalize;
  background:#eee; color:#333;
}
.status-badge.pending{ background:#fff3cd; color:#856404; }
.status-badge.confirmed{ background:#d4edda; color:#155724; }
.status-badge.cancelled{ background:#f8d7da; color:#721c24; }

/* =======================
   TABLES (documents, training, generic)
   ======================= */
.table-card { max-width:100%; overflow-x:auto; margin:0 auto; }

table, .tablex{
  width:100%; border-collapse:collapse; table-layout:fixed;
}
thead th, .tablex thead th{
  background:var(--brand-blue); color:#fff; text-align:left; font-weight:600; padding:14px 16px;
}
tbody td, .tablex tbody td{
  padding:14px 16px; border-bottom:1px solid #f1f1f1;
  background:#fff; word-wrap:break-word; white-space:normal; vertical-align:middle;
}
tbody tr:last-child td{ border-bottom:none; }

/* keep last column (Status/Actions) on one line */
.table-card table td:last-child,
.table-card table th:last-child,
.tablex td:last-child,
.tablex th:last-child,
table td:last-child,
table th:last-child {
  white-space: nowrap;
  word-break: keep-all;
}

/* documents table column widths */
.tablex th:nth-child(1), .tablex td:nth-child(1){ width: 8%;  }
.tablex th:nth-child(2), .tablex td:nth-child(2){ width: 34%; }
.tablex th:nth-child(3), .tablex td:nth-child(3){ width: 12%; }
.tablex th:nth-child(4), .tablex td:nth-child(4){ width: 10%; }
.tablex th:nth-child(5), .tablex td:nth-child(5){ width: 14%; }
.tablex th:nth-child(6), .tablex td:nth-child(6){ width: 22%; }

.col-preview{ text-align:center; }
.file-thumb{ width:50px; height:50px; border-radius:8px; object-fit:cover; display:inline-block; }
.col-name{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.actions-cell{
  display:flex; align-items:center; justify-content:flex-start; gap:10px; flex-wrap:nowrap; white-space:nowrap;
}
.actions-cell .btn{ padding:6px 10px; font-size:12px; line-height:1.2; border-radius:8px; }

/* training table widths */
.table-training th:nth-child(1), .table-training td:nth-child(1){ width: 18%; }
.table-training th:nth-child(2), .table-training td:nth-child(2){ width: 14%; }
.table-training th:nth-child(3), .table-training td:nth-child(3){ width: 25%; }
.table-training th:nth-child(4), .table-training td:nth-child(4){ width: 10%; }
.table-training th:nth-child(5), .table-training td:nth-child(5){ width: 10%; }
.table-training th:nth-child(6), .table-training td:nth-child(6){ width: 13%; }
.col-desc{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

/* Narrow screens: allow actions wrap as a unit */
@media (max-width: 640px) {
  .table-card table td:last-child,
  .tablex td:last-child,
  table td:last-child {
    white-space: normal;
    word-break: normal;
  }
}

/* Toggle rows (appointments) */
.details-row{ display:none; background:#f9fafb; }
.details-row.open{ display:table-row; }
.link, .toggle-details{ color:var(--brand-blue); text-decoration:underline; cursor:pointer; font-weight:600; }
.arrow-icon{ transition:transform .3s ease; margin-right:6px; color:var(--brand-blue); }
.toggle-details.open .arrow-icon{ transform: rotate(90deg); }

/* =======================
   FILTERS (inventory/reports parity)
   ======================= */
.filter-form{
  display:flex; align-items:center; gap:10px;
  background:#fff; padding:10px 15px; border-radius:8px;
  box-shadow:var(--shadow); margin-bottom:20px;
}
.filter-form label{ font-weight:600; color:var(--brand-blue); margin-right:5px; }
.filter-form select{
  padding:8px 12px; font-size:14px; border:1px solid var(--border);
  border-radius:6px; outline:none;
}
.filter-form button{ margin-left:auto; }

/* =======================
   FORMS / INPUTS
   ======================= */
.form-group{ margin-bottom:20px; }
.form-group label,
.form-label{ display:block; margin-bottom:8px; font-weight:600; color:var(--text); }
.form-control,
input[type="text"], input[type="email"], input[type="password"], input[type="date"], select, textarea{
  width:100%; padding:10px 15px; border:1px solid var(--border); border-radius:8px; font-size:14px; background:#fff;
}
textarea{ min-height:120px; resize:vertical; }
.hint{ font-size:12px; color:var(--muted); }

/* =======================
   DASHBOARD (parity with admin)
   ======================= */
.welcome-section h1{ font-size:28px; margin-bottom:10px; }
.welcome-section p{ opacity:.9; margin-bottom:20px; }
.quick-actions{ display:grid; grid-template-columns:repeat(auto-fit, minmax(200px,1fr)); gap:15px; margin-bottom:30px; }
.action-card{
  background:var(--brand-blue); padding:20px; border-radius:10px; text-align:center;
  box-shadow:var(--shadow); transition:transform .3s ease; cursor:pointer;
}
.action-card:hover{ transform: translateY(-5px); }
.action-card i, .action-card h3, .action-card p{ color:#fff; }
.action-card i{ font-size:24px; margin-bottom:12px; }
.action-card h3{ font-size:16px; margin-bottom:8px; }
.action-card p{ font-size:13px; }
.analytics-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(250px,1fr)); gap:20px; margin-bottom:25px; }
.analytics-card{ background:var(--card-bg); padding:20px; border-radius:10px; box-shadow:var(--shadow); }
.analytics-card h3{ font-size:16px; margin-bottom:15px; color:var(--brand-blue); }
.stats-container{ display:flex; gap:20px; margin:20px 0; flex-wrap:wrap; }
.stat-card{ flex:1; min-width:200px; background:var(--card-bg); padding:20px; border-radius:10px; box-shadow:var(--shadow); text-align:center; }
.stat-card h3{ font-size:16px; color:var(--muted); margin-bottom:10px; }
.stat-card p{ font-size:26px; font-weight:700; color:var(--brand-blue); margin:0; }
.notifications-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(300px,1fr)); gap:20px; }

/* KPI cards (compat) */
.kpi-grid{ display:grid; grid-template-columns:repeat(4, 1fr); gap:14px; margin-bottom:16px; }
.kpi-card{
  background:#fff; border:1px solid var(--border); border-radius:10px; box-shadow:var(--shadow);
  padding:16px;
}
.kpi-ico{ width:36px; height:36px; border-radius:10px; display:grid; place-items:center; background:rgba(0,73,144,.08); color:var(--brand-blue); font-size:18px; }
.kpi-val{ font-size:28px; font-weight:700; color:var(--brand-blue); }
.kpi-lbl{ font-size:13px; color:var(--muted); }

/* =======================
   ANNOUNCEMENTS (parity)
   ======================= */
.nav-tabs{ display:flex; border-bottom:2px solid var(--border); margin-bottom:25px; }
.nav-tab{ padding:12px 20px; cursor:pointer; border-bottom:3px solid transparent; font-weight:600; color:var(--muted); transition:all .3s ease; }
.nav-tab.active{ color:var(--brand-blue); border-bottom-color:var(--brand-blue); }
.nav-tab:hover{ color:var(--brand-blue); }
.announcements-container{ margin-bottom:30px; }
.announcement-card{
  background:var(--card-bg); padding:20px; border-radius:10px; box-shadow:var(--shadow);
  margin-bottom:20px; border-left:4px solid var(--brand-blue);
}
.announcement-header{ display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:15px; }
.announcement-title{ color:var(--brand-blue); font-size:18px; margin:0; flex:1; }
.announcement-date{ color:var(--muted); font-size:13px; margin-left:15px; }
.announcement-content{ color:var(--text); line-height:1.6; margin-bottom:15px; white-space:pre-wrap; }
.announcement-footer{ display:flex; justify-content:space-between; align-items:center; padding-top:15px; border-top:1px solid var(--border); }

/* =======================
   REPORTS (match upload cards)
   ======================= */
.page-subtitle{ color:var(--muted); margin-bottom:30px; font-size:16px; }
.generate-section,
.upload-section{
  background:var(--card-bg); padding:25px; border-radius:10px;
  border:1px solid var(--border); box-shadow:var(--shadow); margin-bottom:30px;
}
.generate-section .section-title,
.upload-section .section-title{
  color:var(--brand-blue); font-size:20px; margin-bottom:20px; padding-bottom:10px; border-bottom:1px solid var(--border); margin-top: 10px; margin-right: 10px;
}
.date-range{ display:grid; grid-template-columns:1fr 1fr; gap:15px; margin-bottom:20px; }

.uploads-table{ width:100%; background:var(--card-bg); border-radius:10px; overflow:hidden; box-shadow:var(--shadow); margin-bottom:30px; }
.uploads-table th{ background:var(--brand-blue); color:#fff; text-align:left; padding:15px; }
.uploads-table td{ padding:15px; border-bottom:1px solid var(--border); background:#fff; }
.uploads-table tr:last-child td{ border-bottom:none; }
.upload-actions{ display:flex; gap:5px; }

/* =======================
   PROFILE
   ======================= */
.two-column-layout{ display:grid; grid-template-columns:1fr 1fr; gap:30px; }
.profile-section{ background:#fff; padding:25px; border-radius:10px; box-shadow:var(--shadow); margin-bottom:30px; }
.profile-picture{ display:flex; align-items:center; gap:20px; margin-bottom:20px; }
.profile-picture .avatar{
  width:100px; height:100px; border-radius:50%;
  background:var(--brand-blue); color:#fff; display:flex; align-items:center; justify-content:center;
  font-size:36px; font-weight:600;
}
.change-photo-btn{
  padding:8px 15px; background:var(--brand-blue); color:#fff; border:none; border-radius:5px; font-size:14px; cursor:pointer; transition:background .3s;
}
.change-photo-btn:hover{ background:#003b73; }

/* Helpers used by your templates */
.grid { display:grid; gap:20px; }
.stack { display:flex; flex-direction:column; gap:14px; }
.itemline{ display:flex; align-items:center; justify-content:space-between; padding:8px 0; border-bottom:1px solid var(--border); }
.itemline:last-child{ border-bottom:none; }

/* =======================
   RESPONSIVE
   ======================= */
@media (max-width: 1200px){
  .kpi-grid{ grid-template-columns: repeat(2,1fr); }
}
@media (max-width: 992px){
  :root { --nav-w: 80px; }
  .content, .main-content{ padding:20px 16px; margin-left: var(--nav-w); }
  thead th, tbody td{ padding:12px; }
  .nav a .nav-text{ display:none; }
}
@media (max-width: 768px){
  .date-range{ grid-template-columns:1fr; }
  .two-column-layout{ grid-template-columns:1fr; }
  .profile-picture{ flex-direction:column; text-align:center; }
  .quick-actions{ grid-template-columns:1fr; }
  .analytics-grid{ grid-template-columns:1fr; }
  .notifications-grid{ grid-template-columns:1fr; }
  .upload-actions{ flex-direction:column; }
}
@media (max-width: 576px){
  .sidebar { position: relative; width: 100%; height: auto; top: 0; }
  .content, .main-content{ margin-left: 0; padding: 20px 15px; }
}

/* =======================
   LEGACY COMPAT
   ======================= */
.staff .tablex th{ background: var(--brand-blue); color:#fff; }
.staff .kpi-card.brand{
  background: var(--brand-blue); border-color:#003b73; color:#fff;
  box-shadow: 0 6px 14px rgba(0,73,144,.18);
}
.staff .kpi-card.brand .kpi-ico{ background: rgba(255,255,255,.16); color:#fff; }
.staff .kpi-card.brand .kpi-val{ color:#fff; }
.staff .kpi-card.brand .kpi-lbl{ color: rgba(255,255,255,.88); }

/* ================================
   Staff — Create Booking Form
   ================================ */

/* Wrap form card like other modules */
.cardx.create-booking {
  max-width: 900px;
  margin: 0 auto;
}

.cardx.create-booking .card-body {
  padding: 25px 30px;
}

/* Form grid layout */
.create-booking-form {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 18px 20px;
}

.create-booking-form .form-label {
  font-weight: 600;
  color: var(--text);
}

.create-booking-form .form-control {
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 10px 14px;
  font-size: 14px;
  background: #fff;
  width: 100%;
}

.create-booking-form button[type="submit"] {
  grid-column: 1 / -1;
  margin-top: 10px;
  padding: 12px 20px;
  font-size: 15px;
  font-weight: 600;
}

/* Error alert styling */
.alert ul {
  margin: 0;
  padding-left: 20px;
}

/* Responsive tweaks */
@media (max-width: 768px) {
  .create-booking-form {
    grid-template-columns: 1fr;
  }
}

/* =======================
   Page Headings (unify across modules)
   ======================= */

.page-head h1,
.content > h1:first-of-type,
.main-content > h1:first-of-type {
  color: var(--brand-blue);
  font-size: 24px;
  font-weight: 700;
  margin: 0;
  padding: 0;
}

.page-head p,
.content > h1:first-of-type + p,
.main-content > h1:first-of-type + p {
  color: var(--muted);
  font-size: 14px;
  margin: 4px 0 0 0;
}

.page-head {
  margin-bottom: 20px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--border);
}

.logo-img {
  height: 100px !important;
  width: auto !important;
}